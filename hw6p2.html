<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="description" content="CNIT 132: Homework 4">
    <meta name="keywords" content="HTML, CSS, Bootstrap, Google Fonts, Javascript">
    <meta name="author" content="Pamela Gilmour">
    <meta property="og:title" content="Pamela Gilmour CNIT132 Hw4" />
    <meta property="og:description" content="Homework 4" />
    <meta property="og:image" content="https://i.imgur.com/fl8ZiG8.gif" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;600;700;900&family=Lora:ital@0;1&family=Roboto+Mono:wght@300&family=VT323&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Pamela Gilmour : CNIT 133 Homework</title>
    <link rel="icon" type="image/x-icon" href="fav.ico">
    <!-- <script src="https://code.jquery.com/jquery-1.10.1.js"></script> -->
    <!-- <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.1/jquery.validate.min.js"></script>
    <script>

        function process() {


            // grab and format the user entered character
            let userInput = document.getElementById('searchUsrInput').value.toLowerCase();

            let userSearchInput = userInput.toLowerCase();

            // this is the string that is being searched
            let theString = ' Pamela J Gilmour, Software Engineer';

            // format the string to be all lowercase.
            let searchString = theString.toLowerCase();

            // counter for the for loop
            let charCount = 0;

            for ( i = 0; i < searchString.length; i++ ) {

                if ( searchString.charAt(i) == userSearchInput ) {

                    charCount++;

                }
            }

            if (charCount !== 0) {

                    document.getElementById('searchOutput').value = `${userSearchInput} is found in the text ${charCount} times.`;

            } else {

                console.log('Hello');
                let popupHtml = "<html><head><title>No Instances</title></head><body></body></html>"
                // create the HTML for the popup window
                let actPopup = window.open("", "The Popup", "width=300,height=100,top=220,left=50"
                );

                // add a message to output textbox 
                document.getElementById('searchOutput').value = 'see popup window'; 
                // focus on the window to receive events/html
                actPopup.focus();

                // add the popupHTML html in the new window actPopup
                actPopup.document.write(popupHTML);

                // signal to browser actPopup is loaded
                actPopup.document.close();

                
            }




        }


    </script>
</head>

<body onload="document.getElementById('searchUsrInput').focus(); " >
    <!-- insert comments into every homework assignment  -->
    <header class="header">CNIT 133 Homework 6 - Objects</header>
    <div class="container">
        <nav class="nav row">
            <a class="nav-link" href="index.html">Home</a>
            <a class="nav-link" href="hw6.html">Homework 6 Main</a>
            <a class="nav-link" href="hw6p1.html">Homework 6 Part 1</a>
            <a class="nav-link active" href="hw6p2.html">Homework 6 Part 2</a>
            <a class="nav-link" href="hw6p3.html">Homework 6 Part 3</a>
            <a class="nav-link" href="hw7.html">Homework 7</a>
        </nav>
    </div>
    <div class="container">
        <section class="col">
            <h1 class="row">Homework Page 6 - Search using charAt()</h1>
            <!-- 
                Create a webpage that contains 

                a script using a form that 

                Use a form textarea for the text and a form input box for the search character. 

            -->
            <!--

                If the search character is not found within the text 
                

                the message, 'Search character not found in text string!' along with the search character - 
                
                make sure that the output input box (or textarea) would be cleared if that error message is showing, 
                
                meaning it would not show any previous result.
                
            -->

            <form id="form6p2" name="form6p2">
                <!-- allows the user to input several lines of text and a search character -->
                <h2>Sample Text: Pamela J Gilmour, Software Engineer</h2>
                <br><br>
                <p>
                    Enter a character you would like to search for: 
                    <input class="black" id="searchUsrInput" type="text" size="20">
                    <input class="black" type="button" value="Search" onclick="process()">
                    <br><br>
                    Instances of your search character in the Sample Text: 
                    <textarea class="black" cols="30" rows="1" id="searchOutput"></textarea>
                    <br><br>
                    <input class="black" type="reset" value="Reset">

                </p>

            </form>

        </section>
    </div>
    <footer></footer>
</body>

</html>